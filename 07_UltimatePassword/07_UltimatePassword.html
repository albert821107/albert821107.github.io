<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="/01_UltimatePassword.CSS">
  <title>終極密碼</title>
</head>

<body>
  <div class="show">
    <input id='show' type="text">
  </div>
  <div class="start">
    <button id="btnanswer">產生數字</button>
  </div>

  <div class="inputnumber">
    <input id="inputanswer" type="text">
    <div class="inputbtn">
      <div class="btnwrap">
        <button id="btn1">1</button>
        <button id="btn2">2</button>
        <button id="btn3">3</button>
      </div>
      <div class="btnwrap">
        <button id="btn4">4</button>
        <button id="btn5">5</button>
        <button id="btn6">6</button>
      </div>
      <div class="btnwrap">
        <button id="btn7">7</button>
        <button id="btn8">8</button>
        <button id="btn9">9</button>
      </div>
      <div class="btnwrap">
        <button id="btnX" style="color: red;">X</button>
        <button id="btn0">0</button>
        <button id="btnV" style="color: greenyellow;">V</button>
      </div>
    </div>
  </div>

  <script>
    // 初始設定
    let minnumber = 0;
    let maxnumber = 100;
    let show = document.getElementById('show');
    show.style.width = '300px';
    show.style.height = '100px';
    show.style.fontSize = '30px';
    show.style.border = '0';
    show.style.textAlign = 'center';

    //輸入答案區
    let inputanswer = document.getElementById('inputanswer');
    inputanswer.value = '';
    inputanswer.style.fontSize = '25px';
    //產生答案紐
    let btnanswer = document.getElementById('btnanswer');
    btnanswer.onclick = function () {
      let answer = getRandomNumber();
      //啟動按鈕
      show.value = `${minnumber}~${maxnumber}`;
      let btn1 = document.getElementById('btn1');
      btn1.onclick = function () {
        inputanswer.value += '1';
      }
      let btn2 = document.getElementById('btn2');
      btn2.onclick = function () {
        inputanswer.value += '2';
      }
      let btn3 = document.getElementById('btn3');
      btn3.onclick = function () {
        inputanswer.value += '3';
      }
      let btn4 = document.getElementById('btn4');
      btn4.onclick = function () {
        inputanswer.value += '4';
      }
      let btn5 = document.getElementById('btn5');
      btn5.onclick = function () {
        inputanswer.value += '5';
      }
      let btn6 = document.getElementById('btn6');
      btn6.onclick = function () {
        inputanswer.value += '6';
      }
      let btn7 = document.getElementById('btn7');
      btn7.onclick = function () {
        inputanswer.value += '7';
      }
      let btn8 = document.getElementById('btn8');
      btn8.onclick = function () {
        inputanswer.value += '8';
      }
      let btn9 = document.getElementById('btn9');
      btn9.onclick = function () {
        inputanswer.value += '9';
      }
      let btnX = document.getElementById('btnX');
      btnX.onclick = function () {
        inputanswer.value = '';
      }
      let btn0 = document.getElementById('btn0');
      btn0.onclick = function () {
        inputanswer.value += '0';
      }
      //提交答案按鈕
      let btnV = document.getElementById('btnV');
      btnV.onclick = function () {
        inputanswer.value = parseInt(inputanswer.value);
        if (inputanswer.value >= maxnumber | inputanswer.value <= minnumber) {
          alert('請輸入正確數字');
          inputanswer.value = '';
        }
        else if (inputanswer.value == answer) {
          alert(`你猜對了，答案是${answer}`);
          btn1.onclick = null;
          btn2.onclick = null;
          btn3.onclick = null;
          btn4.onclick = null;
          btn5.onclick = null;
          btn6.onclick = null;
          btn7.onclick = null;
          btn8.onclick = null;
          btn9.onclick = null;
          btnX.onclick = null;
          btn0.onclick = null;
          btnV.onclick = null;
          inputanswer.value = '';
          show.value = '';
          minnumber = 0;
          maxnumber = 100;
        }
        else if (inputanswer.value < answer) {
          minnumber = inputanswer.value;
          show.value = `${minnumber}~${maxnumber}`;
          inputanswer.value = '';
        }
        else if (inputanswer.value > answer) {
          maxnumber = inputanswer.value;
          show.value = `${minnumber}~${maxnumber}`;
          inputanswer.value = '';
        }
      }
    }
    //產生0~100隨機數字方法
    function getRandomNumber() {
      return Math.floor(99 * Math.random() + 1);
    };
  </script>
</body>

</html>